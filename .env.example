# ====== Coffee Trading Platform - Environment Variables ======
# Centralized configuration for all microservices

# ====== General Configuration ======
NODE_ENV=development
LOG_LEVEL=info

# ====== Infrastructure ======
# NATS Messaging
NATS_URL=nats://localhost:4222

# PostgreSQL Database
DATABASE_URL=postgresql://postgres:password@localhost:5432/coffee

# ClickHouse Database
CLICKHOUSE_HOST=localhost
CLICKHOUSE_PORT=8123
CLICKHOUSE_DATABASE=crypto
CLICKHOUSE_USER=default
CLICKHOUSE_PASSWORD=

# Redis Cache
REDIS_URL=redis://localhost:6379

# ====== Security ======
# Encryption key for API secrets (generate with: openssl rand -hex 32)
ENCRYPTION_KEY=your-secure-encryption-key-here-use-openssl-rand-hex-32

# JWT Secret (minimum 32 characters)
JWT_SECRET=your-jwt-secret-here-min-32-chars

# Better-Auth Configuration
BETTER_AUTH_SECRET=your-secret-key-here-min-32-chars
BETTER_AUTH_URL=http://localhost:3000

# ====== API Gateway (Port: 3000) ======
GATEWAY_PORT=3000
CORS_ORIGIN=http://localhost:3001

# Rate Limiting
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# ====== Microservices URLs ======
# Market Data Service (Port: 3010)
MARKET_DATA_URL=http://localhost:3010
MARKET_DATA_PORT=3010

# Exchange URLs
BINANCE_API_URL=https://api.binance.com
BINANCE_WS_URL=wss://stream.binance.com:9443
BYBIT_API_URL=https://api.bybit.com
BYBIT_WS_URL=wss://stream.bybit.com/v5/public/spot
OKX_API_URL=https://www.okx.com
OKX_WS_URL=wss://ws.okx.com:8443/ws/v5/public

# Default symbols to track
DEFAULT_SYMBOLS=BTCUSDT,ETHUSDT,BNBUSDT

# Collector intervals (milliseconds)
ORDERBOOK_INTERVAL_MS=5000
FUNDING_INTERVAL_MS=3600000
OI_INTERVAL_MS=3600000

# Trading Service (Port: 3011)
TRADING_URL=http://localhost:3011
TRADING_PORT=3011

# Executor configuration
EXECUTOR_MODE=PAPER
MAX_OPEN_POSITIONS=5
DEFAULT_USER_ID=
DEFAULT_PORTFOLIO_ID=
DEFAULT_EXCHANGE_CREDENTIALS_ID=
AUTO_EXECUTE=true

# Portfolio Service (Port: 3012)
PORTFOLIO_URL=http://localhost:3012
PORTFOLIO_PORT=3012

# Analytics Service (Port: 3014)
ANALYTICS_URL=http://localhost:3014
ANALYTICS_PORT=3014

# Cache TTL (seconds)
CACHE_INDICATORS_TTL=60
CACHE_MARKET_OVERVIEW_TTL=120
CACHE_COMBINED_SENTIMENT_TTL=120
CACHE_ADVANCED_METRICS_TTL=300
CACHE_SUMMARY_TTL=60

# Defaults
DEFAULT_WINDOW=30d
DEFAULT_BENCHMARK=BTC
DEFAULT_DAYS_LOOKBACK=30
TOP_ITEMS_LIMIT=5
VAR_CONFIDENCE=95
VAR_TIME_WINDOW=30
MAX_BACKTEST_DAYS=365

# Screener Service (Port: 3017)
SCREENER_URL=http://localhost:3017
SCREENER_PORT=3017

# Scan settings
SCAN_INTERVAL_MS=60000
MAX_SYMBOLS_PER_SCAN=100

# Scraper Service (Port: 3018)
SCRAPER_URL=http://localhost:3018
SCRAPER_PORT=3018

# Telegram settings
TELEGRAM_API_ID=
TELEGRAM_API_HASH=
TELEGRAM_SESSION_STRING=

# Twitter settings
TWITTER_USERNAME=
TWITTER_PASSWORD=
TWITTER_EMAIL=

# Reddit settings
REDDIT_CLIENT_ID=
REDDIT_CLIENT_SECRET=
REDDIT_USER_AGENT=

# ML Python Service (Port: 8000)
ML_PYTHON_URL=http://localhost:8000
ML_PYTHON_PORT=8000

# Model settings
MODEL_CACHE_DIR=./models
MODEL_EXPIRY_HOURS=24
MAX_MODELS_IN_MEMORY=10

# Training defaults
DEFAULT_HIDDEN_SIZE=128
DEFAULT_SEQUENCE_LENGTH=60
DEFAULT_LEARNING_RATE=0.001
DEFAULT_BATCH_SIZE=32
DEFAULT_EPOCHS=100

# ====== On-Chain Data ======
ETHERSCAN_API_KEY=
CMC_API_KEY=

# Settings
UPDATE_INTERVAL_MS=300000
WHALE_THRESHOLD_BTC=10
WHALE_THRESHOLD_ETH=100
ENABLED_CHAINS=BTC,ETH

# ====== Web Frontend (Port: 3001) ======
VITE_API_URL=http://localhost:3000
VITE_WS_URL=ws://localhost:3000

# ====== Service Discovery ======
SERVICE_DISCOVERY=local

# ====== Development Settings ======
# Enable debug logging
DEBUG=false

# Enable hot reload
HOT_RELOAD=true

# ====== Production Settings ======
# Set to true in production
PRODUCTION=false

# Sentry DSN (optional)
SENTRY_DSN=

# ====== Notes ======
# 1. Copy this file to .env and fill in your values
# 2. Never commit .env file to version control
# 3. Each service can have its own .env file for service-specific overrides
# 4. Environment variables prefixed with service name take precedence
# 5. Generate secure keys using: openssl rand -hex 32

