# –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç Screener

## üöÄ –ó–∞–ø—É—Å–∫

### 1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Redis –∑–∞–ø—É—â–µ–Ω

```bash
# –ò–∑ –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞
docker-compose up -d redis
```

### 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (—É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã)

```bash
cd apps/screener
bun install
```

### 3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å

```bash
# –ò–∑ –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞
bun run dev:screener

# –ò–ª–∏ –Ω–∞–ø—Ä—è–º—É—é –∏–∑ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ screener
cd apps/screener
bun dev
```

–°–µ—Ä–≤–∏—Å –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –Ω–∞ –ø–æ—Ä—Ç—É **3014** –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:

- –í—ã–ø–æ–ª–Ω–∏—Ç –ø–µ—Ä–≤—ã–π —Å–∫—Ä–∏–Ω–∏–Ω–≥ –≤—Å–µ—Ö USDT –ø–∞—Ä Binance
- –ù–∞—Å—Ç—Ä–æ–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–∫—Ä–∏–Ω–∏–Ω–≥ –∫–∞–∂–¥—ã–µ 15 –º–∏–Ω—É—Ç

## üìä –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ API

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è

```bash
curl http://localhost:3015/health
```

### –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–∫—Ä–∏–Ω–∏–Ω–≥ –≤—Ä—É—á–Ω—É—é

```bash
curl -X POST http://localhost:3015/api/screener/run \
  -H "Content-Type: application/json" \
  -d '{"timeframe": "15m"}'
```

### –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

```bash
curl http://localhost:3015/api/screener/results?limit=50
```

### –ü–æ–ª—É—á–∏—Ç—å —Ç–æ–ø —Å–∏–≥–Ω–∞–ª–æ–≤ –Ω–∞ –ø–æ–∫—É–ø–∫—É

```bash
curl http://localhost:3015/api/screener/signals/STRONG_BUY?limit=20
```

–î–æ—Å—Ç—É–ø–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:

- `STRONG_BUY` - —Å–∏–ª—å–Ω—ã–π —Å–∏–≥–Ω–∞–ª –Ω–∞ –ø–æ–∫—É–ø–∫—É
- `BUY` - —Å–∏–≥–Ω–∞–ª –Ω–∞ –ø–æ–∫—É–ø–∫—É
- `SELL` - —Å–∏–≥–Ω–∞–ª –Ω–∞ –ø—Ä–æ–¥–∞–∂—É
- `STRONG_SELL` - —Å–∏–ª—å–Ω—ã–π —Å–∏–≥–Ω–∞–ª –Ω–∞ –ø—Ä–æ–¥–∞–∂—É

### –ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –æ—á–µ—Ä–µ–¥–∏

```bash
curl http://localhost:3015/api/screener/stats
```

–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç:

- `waiting` - –∑–∞–¥–∞—á –≤ –æ—á–µ—Ä–µ–¥–∏
- `active` - –∑–∞–¥–∞—á –≤ –æ–±—Ä–∞–±–æ—Ç–∫–µ
- `completed` - –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á
- `failed` - –ø—Ä–æ–≤–∞–ª–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á

## üìà –ü—Ä–∏–º–µ—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞

```json
{
  "symbol": "BTCUSDT",
  "timestamp": 1696348800000,
  "timeframe": "15m",
  "indicators": {
    "rsi": 52.3,
    "macd": {
      "macd": 123.45,
      "signal": 120.32,
      "histogram": 3.13
    },
    "ema20": 43250.5,
    "ema50": 42800.3,
    "ema200": 41500.2,
    "bollingerBands": {
      "upper": 44000.0,
      "middle": 43000.0,
      "lower": 42000.0
    },
    "stochastic": {
      "k": 65.2,
      "d": 62.8
    },
    "atr": 250.5,
    "adx": 28.5
  },
  "signals": {
    "trend": "BULLISH",
    "strength": 68,
    "momentum": "STRONG",
    "volatility": "MEDIUM",
    "recommendation": "BUY"
  },
  "price": {
    "current": 43250.5,
    "change24h": 850.3,
    "changePercent24h": 2.01,
    "volume24h": 15234567.89
  }
}
```

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞

–†–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `.env` —Ñ–∞–π–ª:

```env
PORT=3015                      # –ü–æ—Ä—Ç —Å–µ—Ä–≤–∏—Å–∞
REDIS_URL=redis://localhost:6379  # URL Redis
SCREENING_INTERVAL_MINUTES=15  # –ò–Ω—Ç–µ—Ä–≤–∞–ª —Å–∫—Ä–∏–Ω–∏–Ω–≥–∞ –≤ –º–∏–Ω—É—Ç–∞—Ö
CONCURRENT_JOBS=10             # –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –∑–∞–¥–∞—á
LOG_LEVEL=info                 # –£—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

–õ–æ–≥–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `logs/`:

- `logs/screener-{date}.log` - –æ—Å–Ω–æ–≤–Ω—ã–µ –ª–æ–≥–∏
- `logs/screener-error-{date}.log` - –æ—à–∏–±–∫–∏

## üéØ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- **~500 —Å–∏–º–≤–æ–ª–æ–≤** –∞–Ω–∞–ª–∏–∑–∏—Ä—É—é—Ç—Å—è –∑–∞ **3-5 –º–∏–Ω—É—Ç**
- **10 –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö** –∑–∞–¥–∞—á –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- –°–æ–±–ª—é–¥–µ–Ω–∏–µ **rate limits Binance** (1200 req/min)
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π retry** –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö (3 –ø–æ–ø—ã—Ç–∫–∏)

## üí° –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã

–°–∫—Ä–∏–Ω–µ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç:

- **RSI** (14) - –ø–µ—Ä–µ–∫—É–ø–ª–µ–Ω–Ω–æ—Å—Ç—å/–ø–µ—Ä–µ–ø—Ä–æ–¥–∞–Ω–Ω–æ—Å—Ç—å
- **MACD** (12, 26, 9) - —Ç—Ä–µ–Ω–¥ –∏ –∏–º–ø—É–ª—å—Å
- **EMA** (20, 50, 200) - —Ç—Ä–µ–Ω–¥
- **SMA** (20, 50, 200) - –ø–æ–¥–¥–µ—Ä–∂–∫–∞/—Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏–µ
- **Bollinger Bands** (20, 2) - –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å
- **Stochastic** (14, 3) - –º–æ–º–µ–Ω—Ç—É–º
- **ATR** (14) - –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å
- **ADX** (14) - —Å–∏–ª–∞ —Ç—Ä–µ–Ω–¥–∞

## üö® Troubleshooting

### –°–µ—Ä–≤–∏—Å –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ Redis –∑–∞–ø—É—â–µ–Ω: `docker ps | grep redis`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Ä—Ç 3015: `lsof -i :3015`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `tail -f logs/screener-error-*.log`

### –ú–µ–¥–ª–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞

1. –£–≤–µ–ª–∏—á—å—Ç–µ `CONCURRENT_JOBS` –≤ `.env`
2. –£–º–µ–Ω—å—à–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∏–º–≤–æ–ª–æ–≤ (—Ñ–∏–ª—å—Ç—Ä—É–π—Ç–µ –ø–æ –æ–±—ä–µ–º—É)
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ rate limits Binance

### –û—à–∏–±–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Binance

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å API: `curl https://api.binance.com/api/v3/ping`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ rate limits
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ IP –Ω–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

–°–º. –ø–æ–ª–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –≤ [README.md](./README.md)
